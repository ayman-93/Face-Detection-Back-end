{"version":3,"sources":["../../src/controllers/Image.js"],"names":["app","Clarifai","App","apiKey","apiCall","req","res","models","predict","FACE_DETECT_MODEL","body","input","then","status","json","data","catch","imageHandle","db","id","where","increment","returning","entries"],"mappings":";;;;;;;AAAA;;;;;;AAEA,IAAMA,MAAM,IAAIC,mBAASC,GAAb,CAAiB;AAC3BC,UAAQ;AADmB,CAAjB,CAAZ;;AAIA,IAAMC,UAAU,SAAVA,OAAU,CAACC,GAAD,EAAMC,GAAN,EAAc;AAC5BN,MAAIO,MAAJ,CACGC,OADH,CACWP,mBAASQ,iBADpB,EACuCJ,IAAIK,IAAJ,CAASC,KADhD,EAEGC,IAFH,CAEQ;AAAA,WAAQN,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBC,IAArB,CAAR;AAAA,GAFR,EAGGC,KAHH,CAGS;AAAA,WAASV,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,OAArB,CAAT;AAAA,GAHT;AAID,CALD;;AAOA,IAAMG,cAAc,SAAdA,WAAc,CAACZ,GAAD,EAAMC,GAAN,EAAWY,EAAX,EAAkB;AAAA,MAC5BC,EAD4B,GACrBd,IAAIK,IADiB,CAC5BS,EAD4B;;AAEpCD,KAAG,OAAH,EACGE,KADH,CACS,IADT,EACe,GADf,EACoBD,EADpB,EAEGE,SAFH,CAEa,SAFb,EAEwB,CAFxB,EAGGC,SAHH,CAGa,SAHb,EAIGV,IAJH,CAIQ;AAAA,WAAWN,IAAIQ,IAAJ,CAASS,QAAQ,CAAR,CAAT,CAAX;AAAA,GAJR,EAKGP,KALH,CAKS;AAAA,WAASV,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,kBAArB,CAAT;AAAA,GALT;AAMD,CARD;;QAUSG,W,GAAAA,W;QAAab,O,GAAAA,O","file":"Image.js","sourcesContent":["import Clarifai from \"clarifai\";\n\nconst app = new Clarifai.App({\n  apiKey: \"06ce844135c1448abb5cae021c520b4a\"\n});\n\nconst apiCall = (req, res) => {\n  app.models\n    .predict(Clarifai.FACE_DETECT_MODEL, req.body.input)\n    .then(data => res.status(200).json(data))\n    .catch(error => res.status(400).json(\"error\"));\n};\n\nconst imageHandle = (req, res, db) => {\n  const { id } = req.body;\n  db(\"users\")\n    .where(\"id\", \"=\", id)\n    .increment(\"entries\", 1)\n    .returning(\"entries\")\n    .then(entries => res.json(entries[0]))\n    .catch(error => res.status(400).json(\"Some thing wrong\"));\n};\n\nexport { imageHandle, apiCall };\n"]}