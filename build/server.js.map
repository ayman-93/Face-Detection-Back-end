{"version":3,"sources":["../src/server.js"],"names":["PORT","process","env","port","db","client","connection","host","user","password","database","app","use","bodyParser","json","get","req","res","select","then","status","users","post","bcrypt","put","listen","console","log"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;;;AAEA,IAAMA,OAAOC,QAAQC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC;AACA,IAAMC,KAAK,oBAAK;AACdC,UAAQ,IADM;AAEdC,cAAY;AACVC,UAAM,WADI;AAEVC,UAAM,OAFI;AAGVC,cAAU,MAHA;AAIVC,cAAU;AAJA;AAFE,CAAL,CAAX;;AAUA,IAAMC,MAAM,wBAAZ;;AAEAA,IAAIC,GAAJ,CAAQC,qBAAWC,IAAX,EAAR;AACAH,IAAIC,GAAJ,CAAQ,qBAAR;;AAEAD,IAAII,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AACzBb,KAAG,OAAH,EACGc,MADH,CACU,GADV,EAEGC,IAFH,CAEQ,iBAAS;AACbF,QAAIG,MAAJ,CAAW,GAAX,EAAgBN,IAAhB,CAAqBO,KAArB;AACD,GAJH;AAKD,CAND;;AAQA;AACAV,IAAIW,IAAJ,CAAS,SAAT,EAAoB,UAACN,GAAD,EAAMC,GAAN;AAAA,SAAc,sBAAOb,EAAP,EAAWmB,sBAAX,EAAmBP,GAAnB,EAAwBC,GAAxB,CAAd;AAAA,CAApB;;AAEA;AACAN,IAAIW,IAAJ,CAAS,SAAT,EAAoB,UAACN,GAAD,EAAMC,GAAN;AAAA,SAAc,wBAASD,GAAT,EAAcC,GAAd,EAAmBb,EAAnB,EAAuBmB,sBAAvB,CAAd;AAAA,CAApB;;AAEA;AACAZ,IAAII,GAAJ,CAAQ,cAAR,EAAwB,UAACC,GAAD,EAAMC,GAAN;AAAA,SAAc,uBAAWA,GAAX,EAAgBD,GAAhB,EAAqBZ,EAArB,CAAd;AAAA,CAAxB;;AAEA;AACAO,IAAIa,GAAJ,CAAQ,QAAR,EAAkB,UAACR,GAAD,EAAMC,GAAN;AAAA,SAAc,wBAAYD,GAAZ,EAAiBC,GAAjB,EAAsBb,EAAtB,CAAd;AAAA,CAAlB;;AAEA;AACAO,IAAIa,GAAJ,CAAQ,WAAR,EAAqB,UAACR,GAAD,EAAMC,GAAN;AAAA,SAAc,oBAAQD,GAAR,EAAaC,GAAb,CAAd;AAAA,CAArB;;AAEAN,IAAIc,MAAJ,CAAWzB,IAAX,EAAiB;AAAA,SAAM0B,QAAQC,GAAR,6BAAsC3B,IAAtC,CAAN;AAAA,CAAjB","file":"server.js","sourcesContent":["import express from \"express\";\nimport bodyParser from \"body-parser\";\nimport bcrypt from \"bcrypt-nodejs\";\nimport cors from \"cors\";\nimport knex from \"knex\";\nimport register from \"./controllers/Rigester\";\nimport signin from \"./controllers/Signin\";\nimport { imageHandle, apiCall } from \"./controllers/Image\";\nimport getProfile from \"./controllers/Profile\";\n\nconst PORT = process.env.port || 3000;\nconst db = knex({\n  client: \"pg\",\n  connection: {\n    host: \"127.0.0.1\",\n    user: \"ayman\",\n    password: \"7533\",\n    database: \"smart-brain\"\n  }\n});\n\nconst app = express();\n\napp.use(bodyParser.json());\napp.use(cors());\n\napp.get(\"/\", (req, res) => {\n  db(\"users\")\n    .select(\"*\")\n    .then(users => {\n      res.status(200).json(users);\n    });\n});\n\n// Sign in\napp.post(\"/signin\", (req, res) => signin(db, bcrypt)(req, res));\n\n// Rigester\napp.post(\"/signup\", (req, res) => register(req, res, db, bcrypt));\n\n// get Profile\napp.get(\"/profile/:id\", (req, res) => getProfile(res, req, db));\n\n//Updete Rank\napp.put(\"/image\", (req, res) => imageHandle(req, res, db));\n\n// Get the face dimensions\napp.put(\"/imageurl\", (req, res) => apiCall(req, res));\n\napp.listen(PORT, () => console.log(`app is running on port ${PORT}`));\n"]}